<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TailUI CSS Generator</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="styles.css">
</head>
<body class="bg-gray-100">
    <!-- Toolbar -->
    <div class="bg-white border-b border-gray-200 p-4 flex items-center justify-between">
        <div class="flex items-center gap-4">
            <h1 class="text-xl font-bold">TailUI CSS Generator</h1>
            
            <div class="flex items-center gap-2">
                <button id="undoBtn" class="p-2 rounded hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed">
                    <svg width="16" height="16" fill="currentColor" viewBox="0 0 24 24">
                        <path d="M12.5 8c-2.65 0-5.05.99-6.9 2.6L2 7v9h9l-3.62-3.62c1.39-1.16 3.16-1.88 5.12-1.88 3.54 0 6.55 2.31 7.6 5.5l2.37-.78C21.08 11.03 17.15 8 12.5 8z"/>
                    </svg>
                </button>
                <button id="redoBtn" class="p-2 rounded hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed">
                    <svg width="16" height="16" fill="currentColor" viewBox="0 0 24 24">
                        <path d="M18.4 10.6C16.55 8.99 14.15 8 11.5 8c-4.65 0-8.58 3.03-9.96 7.22L3.9 16c1.05-3.19 4.05-5.5 7.6-5.5 1.95 0 3.73.72 5.12 1.88L13 16h9V7l-3.6 3.6z"/>
                    </svg>
                </button>
            </div>
        </div>

        <div class="flex items-center gap-4">
            <div class="flex items-center gap-2">
                <span class="text-sm text-gray-600">Columns:</span>
                <button id="decreaseColumns" class="p-1 rounded hover:bg-gray-100">
                    <svg width="16" height="16" fill="currentColor" viewBox="0 0 24 24">
                        <path d="M19 13H5v-2h14v2z"/>
                    </svg>
                </button>
                <span id="columnCount" class="w-8 text-center text-sm font-medium">12</span>
                <button id="increaseColumns" class="p-1 rounded hover:bg-gray-100">
                    <svg width="16" height="16" fill="currentColor" viewBox="0 0 24 24">
                        <path d="M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"/>
                    </svg>
                </button>
            </div>

            <div class="flex items-center gap-2">
                <div class="relative group">
                    <button id="exportBtn" class="flex items-center gap-2 px-3 py-2 bg-blue-500 text-white rounded hover:bg-blue-600">
                        <svg width="16" height="16" fill="currentColor" viewBox="0 0 24 24">
                            <path d="M19 9h-4V3H9v6H5l7 7 7-7zM5 18v2h14v-2H5z"/>
                        </svg>
                        Export
                        <svg width="12" height="12" fill="currentColor" viewBox="0 0 24 24">
                            <path d="M7 10l5 5 5-5z"/>
                        </svg>
                    </button>
                    <div class="absolute top-full right-0 mt-1 bg-white border border-gray-200 rounded-lg shadow-lg hidden group-hover:block z-50 min-w-40">
                        <button id="exportJSONBtn" class="block w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 rounded-t-lg">
                            Export Project (JSON)
                        </button>
                        <button id="exportHTMLBtn" class="block w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100">
                            Export as HTML
                        </button>
                        <button id="exportTailwindBtn" class="block w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 rounded-b-lg">
                            Export Tailwind CSS
                        </button>
                    </div>
                </div>
                
                <button id="previewBtn" class="flex items-center gap-2 px-3 py-2 bg-purple-500 text-white rounded hover:bg-purple-600">
                    <svg width="16" height="16" fill="currentColor" viewBox="0 0 24 24">
                        <path d="M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"/>
                    </svg>
                    Preview
                </button>
                
                <button id="responsiveBtn" class="flex items-center gap-2 px-3 py-2 bg-indigo-500 text-white rounded hover:bg-indigo-600">
                    <svg width="16" height="16" fill="currentColor" viewBox="0 0 24 24">
                        <path d="M4 6h16v2H4zm0 5h16v2H4zm0 5h16v2H4z"/>
                    </svg>
                    Make Responsive
                </button>
            </div>
        </div>
    </div>

    <div class="flex flex-1 overflow-hidden h-screen">
        <!-- Sidebar -->
        <div class="w-64 bg-gray-50 border-r border-gray-200 p-4">
            <h2 class="text-lg font-semibold mb-4">Components</h2>
            <div class="space-y-2">
                <div draggable="true" data-type="container" class="shape-item flex items-center gap-2 p-3 bg-white rounded-lg border border-gray-200 cursor-grab hover:shadow-md transition-shadow">
                    <svg width="20" height="20" fill="currentColor" viewBox="0 0 24 24" class="text-gray-600">
                        <rect x="2" y="3" width="20" height="14" rx="2" ry="2"/>
                        <rect x="8" y="7" width="8" height="6" rx="1" ry="1" fill="none" stroke="currentColor"/>
                    </svg>
                    <span class="text-sm font-medium">Container</span>
                </div>
                <div draggable="true" data-type="div" class="shape-item flex items-center gap-2 p-3 bg-white rounded-lg border border-gray-200 cursor-grab hover:shadow-md transition-shadow">
                    <svg width="20" height="20" fill="currentColor" viewBox="0 0 24 24" class="text-gray-600">
                        <rect x="3" y="3" width="18" height="18" rx="2" ry="2" fill="none" stroke="currentColor" stroke-width="2"/>
                        <rect x="7" y="7" width="10" height="10" rx="1" ry="1" fill="none" stroke="currentColor"/>
                    </svg>
                    <span class="text-sm font-medium">Division</span>
                </div>
                <div draggable="true" data-type="text" class="shape-item flex items-center gap-2 p-3 bg-white rounded-lg border border-gray-200 cursor-grab hover:shadow-md transition-shadow">
                    <svg width="20" height="20" fill="currentColor" viewBox="0 0 24 24" class="text-gray-600">
                        <path d="M5 4v3h5.5v12h3V7H19V4z"/>
                    </svg>
                    <span class="text-sm font-medium">Text</span>
                </div>
                <div draggable="true" data-type="button" class="shape-item flex items-center gap-2 p-3 bg-white rounded-lg border border-gray-200 cursor-grab hover:shadow-md transition-shadow">
                    <svg width="20" height="20" fill="currentColor" viewBox="0 0 24 24" class="text-gray-600">
                        <rect x="4" y="9" width="16" height="6" rx="3" ry="3"/>
                        <circle cx="8" cy="12" r="1"/>
                        <circle cx="16" cy="12" r="1"/>
                    </svg>
                    <span class="text-sm font-medium">Button</span>
                </div>
            </div>
        </div>

        <!-- Canvas -->
        <div class="flex-1 bg-white relative overflow-hidden">
            <div id="canvas" class="w-full h-full min-h-screen relative canvas-grid" style="background-image: repeating-linear-gradient(90deg, transparent, transparent calc(8.33% - 1px), #e5e7eb calc(8.33% - 1px), #e5e7eb 8.33%)">
                <!-- Elements will be rendered here -->
            </div>
        </div>

        <!-- Properties Panel -->
        <div id="propertiesPanel" class="w-80 bg-gray-50 border-l border-gray-200 p-4 overflow-y-auto">
            <div id="noSelection" class="text-center text-gray-500 mt-8">
                Select an element to edit its properties
            </div>
            
            <div id="propertiesContent" class="hidden">
                <h2 id="elementTitle" class="text-lg font-semibold mb-4 capitalize">Element Properties</h2>
                
                <!-- Collapsible Sections -->
                <div class="space-y-2">
                    <!-- Layout Section -->
                    <div class="border border-gray-200 rounded-lg">
                        <button type="button" class="w-full px-4 py-2 text-left font-medium text-gray-700 bg-gray-50 hover:bg-gray-100 flex justify-between items-center" onclick="toggleSection('layoutSection')">
                            Layout & Display
                            <svg class="w-4 h-4 transform transition-transform" id="layoutToggle" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
                            </svg>
                        </button>
                        <div id="layoutSection" class="p-4 space-y-3">
                            <div class="grid grid-cols-2 gap-2">
                                <div>
                                    <label class="block text-xs text-gray-600 mb-1">Display</label>
                                    <select id="displayInput" class="w-full px-2 py-1 border rounded text-sm">
                                        <option value="block">Block</option>
                                        <option value="inline">Inline</option>
                                        <option value="inline-block">Inline Block</option>
                                        <option value="flex">Flex</option>
                                        <option value="grid">Grid</option>
                                        <option value="hidden">Hidden</option>
                                    </select>
                                </div>
                                <div>
                                    <label class="block text-xs text-gray-600 mb-1">Position</label>
                                    <select id="positionInput" class="w-full px-2 py-1 border rounded text-sm">
                                        <option value="static">Static</option>
                                        <option value="relative">Relative</option>
                                        <option value="absolute">Absolute</option>
                                        <option value="fixed">Fixed</option>
                                        <option value="sticky">Sticky</option>
                                    </select>
                                </div>
                            </div>
                            <div class="grid grid-cols-2 gap-2">
                                <div>
                                    <label class="block text-xs text-gray-600 mb-1">Float</label>
                                    <select id="floatInput" class="w-full px-2 py-1 border rounded text-sm">
                                        <option value="none">None</option>
                                        <option value="left">Left</option>
                                        <option value="right">Right</option>
                                    </select>
                                </div>
                                <div>
                                    <label class="block text-xs text-gray-600 mb-1">Overflow</label>
                                    <select id="overflowInput" class="w-full px-2 py-1 border rounded text-sm">
                                        <option value="visible">Visible</option>
                                        <option value="hidden">Hidden</option>
                                        <option value="scroll">Scroll</option>
                                        <option value="auto">Auto</option>
                                    </select>
                                </div>
                            </div>
                            <div>
                                <label class="block text-xs text-gray-600 mb-1">Z-Index</label>
                                <input type="number" id="zIndexInput" class="w-full px-2 py-1 border rounded text-sm">
                            </div>
                        </div>
                    </div>

                    <!-- Sizing Section -->
                    <div class="border border-gray-200 rounded-lg">
                        <button type="button" class="w-full px-4 py-2 text-left font-medium text-gray-700 bg-gray-50 hover:bg-gray-100 flex justify-between items-center" onclick="toggleSection('sizingSection')">
                            Sizing
                            <svg class="w-4 h-4 transform transition-transform" id="sizingToggle" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
                            </svg>
                        </button>
                        <div id="sizingSection" class="p-4 space-y-3">
                            <div class="grid grid-cols-2 gap-2">
                                <div>
                                    <label class="block text-xs text-gray-600 mb-1">Width</label>
                                    <input type="number" id="widthInput" class="w-full px-2 py-1 border rounded text-sm">
                                </div>
                                <div>
                                    <label class="block text-xs text-gray-600 mb-1">Height</label>
                                    <input type="number" id="heightInput" class="w-full px-2 py-1 border rounded text-sm">
                                </div>
                            </div>
                            <div class="grid grid-cols-2 gap-2">
                                <div>
                                    <label class="block text-xs text-gray-600 mb-1">Min Width</label>
                                    <input type="number" id="minWidthInput" class="w-full px-2 py-1 border rounded text-sm">
                                </div>
                                <div>
                                    <label class="block text-xs text-gray-600 mb-1">Max Width</label>
                                    <input type="number" id="maxWidthInput" class="w-full px-2 py-1 border rounded text-sm">
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Spacing Section -->
                    <div class="border border-gray-200 rounded-lg">
                        <button type="button" class="w-full px-4 py-2 text-left font-medium text-gray-700 bg-gray-50 hover:bg-gray-100 flex justify-between items-center" onclick="toggleSection('spacingSection')">
                            Spacing
                            <svg class="w-4 h-4 transform transition-transform" id="spacingToggle" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
                            </svg>
                        </button>
                        <div id="spacingSection" class="hidden p-4 space-y-3">
                            <div>
                                <label class="block text-xs text-gray-600 mb-2">Padding</label>
                                <div class="grid grid-cols-4 gap-1">
                                    <input type="number" id="paddingTopInput" class="px-1 py-1 border rounded text-xs" placeholder="Top" min="0">
                                    <input type="number" id="paddingRightInput" class="px-1 py-1 border rounded text-xs" placeholder="Right" min="0">
                                    <input type="number" id="paddingBottomInput" class="px-1 py-1 border rounded text-xs" placeholder="Bottom" min="0">
                                    <input type="number" id="paddingLeftInput" class="px-1 py-1 border rounded text-xs" placeholder="Left" min="0">
                                </div>
                            </div>
                            <div>
                                <label class="block text-xs text-gray-600 mb-2">Margin</label>
                                <div class="grid grid-cols-4 gap-1">
                                    <input type="number" id="marginTopInput" class="px-1 py-1 border rounded text-xs" placeholder="Top">
                                    <input type="number" id="marginRightInput" class="px-1 py-1 border rounded text-xs" placeholder="Right">
                                    <input type="number" id="marginBottomInput" class="px-1 py-1 border rounded text-xs" placeholder="Bottom">
                                    <input type="number" id="marginLeftInput" class="px-1 py-1 border rounded text-xs" placeholder="Left">
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Typography Section -->
                    <div class="border border-gray-200 rounded-lg">
                        <button type="button" class="w-full px-4 py-2 text-left font-medium text-gray-700 bg-gray-50 hover:bg-gray-100 flex justify-between items-center" onclick="toggleSection('typographySection')">
                            Typography
                            <svg class="w-4 h-4 transform transition-transform" id="typographyToggle" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
                            </svg>
                        </button>
                        <div id="typographySection" class="hidden p-4 space-y-3">
                            <div>
                                <label class="block text-xs text-gray-600 mb-1">Text Content</label>
                                <textarea id="textContentInput" class="w-full px-2 py-1 border rounded text-sm h-16 resize-none" placeholder="Enter text content..."></textarea>
                            </div>
                            <div class="grid grid-cols-2 gap-2">
                                <div>
                                    <label class="block text-xs text-gray-600 mb-1">Font Family</label>
                                    <select id="fontFamilyInput" class="w-full px-2 py-1 border rounded text-sm">
                                        <option value="sans">Sans</option>
                                        <option value="serif">Serif</option>
                                        <option value="mono">Mono</option>
                                    </select>
                                </div>
                                <div>
                                    <label class="block text-xs text-gray-600 mb-1">Font Size</label>
                                    <select id="fontSizeInput" class="w-full px-2 py-1 border rounded text-sm">
                                        <option value="12">12px (xs)</option>
                                        <option value="14">14px (sm)</option>
                                        <option value="16" selected>16px (base)</option>
                                        <option value="18">18px (lg)</option>
                                        <option value="20">20px (xl)</option>
                                        <option value="24">24px (2xl)</option>
                                        <option value="30">30px (3xl)</option>
                                        <option value="36">36px (4xl)</option>
                                        <option value="48">48px (5xl)</option>
                                    </select>
                                </div>
                            </div>
                            <div class="grid grid-cols-2 gap-2">
                                <div>
                                    <label class="block text-xs text-gray-600 mb-1">Font Weight</label>
                                    <select id="fontWeightInput" class="w-full px-2 py-1 border rounded text-sm">
                                        <option value="100">Thin</option>
                                        <option value="200">Extra Light</option>
                                        <option value="300">Light</option>
                                        <option value="400" selected>Normal</option>
                                        <option value="500">Medium</option>
                                        <option value="600">Semi Bold</option>
                                        <option value="700">Bold</option>
                                        <option value="800">Extra Bold</option>
                                        <option value="900">Black</option>
                                    </select>
                                </div>
                                <div>
                                    <label class="block text-xs text-gray-600 mb-1">Text Align</label>
                                    <select id="textAlignInput" class="w-full px-2 py-1 border rounded text-sm">
                                        <option value="left">Left</option>
                                        <option value="center">Center</option>
                                        <option value="right">Right</option>
                                        <option value="justify">Justify</option>
                                    </select>
                                </div>
                            </div>
                            <div class="grid grid-cols-2 gap-2">
                                <div>
                                    <label class="block text-xs text-gray-600 mb-1">Line Height</label>
                                    <select id="lineHeightInput" class="w-full px-2 py-1 border rounded text-sm">
                                        <option value="1">None</option>
                                        <option value="1.25">Tight</option>
                                        <option value="1.375">Snug</option>
                                        <option value="1.5" selected>Normal</option>
                                        <option value="1.625">Relaxed</option>
                                        <option value="2">Loose</option>
                                    </select>
                                </div>
                                <div>
                                    <label class="block text-xs text-gray-600 mb-1">Text Transform</label>
                                    <select id="textTransformInput" class="w-full px-2 py-1 border rounded text-sm">
                                        <option value="none">None</option>
                                        <option value="uppercase">Uppercase</option>
                                        <option value="lowercase">Lowercase</option>
                                        <option value="capitalize">Capitalize</option>
                                    </select>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Colors & Backgrounds -->
                    <div class="border border-gray-200 rounded-lg">
                        <button type="button" class="w-full px-4 py-2 text-left font-medium text-gray-700 bg-gray-50 hover:bg-gray-100 flex justify-between items-center" onclick="toggleSection('colorsSection')">
                            Colors & Backgrounds
                            <svg class="w-4 h-4 transform transition-transform" id="colorsToggle" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
                            </svg>
                        </button>
                        <div id="colorsSection" class="hidden p-4 space-y-3">
                            <div class="grid grid-cols-1 gap-2">
                                <div>
                                    <label class="block text-xs text-gray-600 mb-1">Background Color</label>
                                    <div class="flex gap-2">
                                        <input type="color" id="backgroundColorInput" class="w-8 h-8 rounded border">
                                        <input type="text" id="backgroundColorText" class="flex-1 px-2 py-1 border rounded text-sm" placeholder="#ffffff">
                                    </div>
                                </div>
                                <div>
                                    <label class="block text-xs text-gray-600 mb-1">Text Color</label>
                                    <div class="flex gap-2">
                                        <input type="color" id="textColorInput" class="w-8 h-8 rounded border">
                                        <input type="text" id="textColorText" class="flex-1 px-2 py-1 border rounded text-sm" placeholder="#1f2937">
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Borders & Effects -->
                    <div class="border border-gray-200 rounded-lg">
                        <button type="button" class="w-full px-4 py-2 text-left font-medium text-gray-700 bg-gray-50 hover:bg-gray-100 flex justify-between items-center" onclick="toggleSection('bordersSection')">
                            Borders & Effects
                            <svg class="w-4 h-4 transform transition-transform" id="bordersToggle" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
                            </svg>
                        </button>
                        <div id="bordersSection" class="hidden p-4 space-y-3">
                            <div class="grid grid-cols-2 gap-2">
                                <div>
                                    <label class="block text-xs text-gray-600 mb-1">Border Width</label>
                                    <input type="number" id="borderWidthInput" class="w-full px-2 py-1 border rounded text-sm" min="0" max="20">
                                </div>
                                <div>
                                    <label class="block text-xs text-gray-600 mb-1">Border Radius</label>
                                    <input type="number" id="borderRadiusInput" class="w-full px-2 py-1 border rounded text-sm" min="0" max="100">
                                </div>
                            </div>
                            <div class="grid grid-cols-2 gap-2">
                                <div>
                                    <label class="block text-xs text-gray-600 mb-1">Border Color</label>
                                    <input type="color" id="borderColorInput" class="w-full h-8 rounded border">
                                </div>
                                <div>
                                    <label class="block text-xs text-gray-600 mb-1">Border Style</label>
                                    <select id="borderStyleInput" class="w-full px-2 py-1 border rounded text-sm">
                                        <option value="solid">Solid</option>
                                        <option value="dashed">Dashed</option>
                                        <option value="dotted">Dotted</option>
                                        <option value="double">Double</option>
                                        <option value="none">None</option>
                                    </select>
                                </div>
                            </div>
                            <div class="grid grid-cols-2 gap-2">
                                <div>
                                    <label class="block text-xs text-gray-600 mb-1">Shadow</label>
                                    <select id="shadowInput" class="w-full px-2 py-1 border rounded text-sm">
                                        <option value="none">None</option>
                                        <option value="sm">Small</option>
                                        <option value="md">Medium</option>
                                        <option value="lg">Large</option>
                                        <option value="xl">Extra Large</option>
                                        <option value="2xl">2X Large</option>
                                        <option value="inner">Inner</option>
                                    </select>
                                </div>
                                <div>
                                    <label class="block text-xs text-gray-600 mb-1">Opacity (%)</label>
                                    <input type="range" id="opacityInput" class="w-full" min="0" max="100" step="5" value="100">
                                    <div class="text-xs text-gray-500 text-center mt-1" id="opacityValue">100%</div>
                                </div>
                            </div>
                        </div>
                    </div>

                </div>
            </div>
        </div>
    </div>

    <!-- Scripts -->
    <script>
        // Toggle collapsible sections
        function toggleSection(sectionId) {
            const section = document.getElementById(sectionId);
            const toggle = document.getElementById(sectionId.replace('Section', 'Toggle'));
            
            if (section.classList.contains('hidden')) {
                section.classList.remove('hidden');
                toggle.style.transform = 'rotate(180deg)';
            } else {
                section.classList.add('hidden');
                toggle.style.transform = 'rotate(0deg)';
            }
        }
    </script>
    <script src="utils-js.js"></script>
    <script src="storage-js.js"></script>
    <script src="history-js.js"></script>
    <script src="elements-js.js"></script>
    <script src="canvas-js.js"></script>
    <script src="properties-js.js"></script>
    <script src="toolbar-js.js"></script>
    <script src="sidebar-js.js"></script>
    <script src="export-import-js.js"></script>
    <script src="main-js.js"></script>
</body>
</html>